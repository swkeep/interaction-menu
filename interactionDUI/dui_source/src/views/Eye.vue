<template>
    <div
        id="eye"
        :style="{
            display: isVisible ? 'block' : 'none',
        }"
    >
        <!-- show first svg -->
        <svg
            v-if="!isToggled"
            id="eyeSvg"
            fill="rgba(0, 0, 0, 1)"
            height="34px"
            width="34px"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 485 485"
            @click="toggle"
        >
            <path
                d="M399.776,157.643l-84.02-84.02c-13.278-13.278-34.805-13.278-48.083,0c-13.278,13.278-13.278,34.805,0,48.083l67.882,67.882
      l-7.071,7.071L141.783,9.958c-13.278-13.278-34.805-13.278-48.083,0c-13.278,13.278-13.278,34.805,0,48.083L201.988,166.33
      l-7.071,7.071l-49.093-49.093c-13.278-13.278-34.805-13.278-48.083,0c-13.278,13.278-13.278,34.805,0,48.083l49.093,49.093
      l-7.071,7.071l-25.658-25.658c-13.278-13.278-34.805-13.278-48.083,0c-13.278,13.278-13.278,34.806,0,48.083l25.658,25.658
      l-7.071,7.071c-13.278-13.278-34.805-13.278-48.083,0s-13.278,34.806,0,48.083l94.55,94.55c51.077,51.077,134.185,51.077,185.262,0
      l83.439-83.438C450.853,291.828,450.853,208.719,399.776,157.643z"
            />
        </svg>

        <!-- show second svg -->
        <svg
            v-else
            id="eyeSvg2"
            xmlns="http://www.w3.org/2000/svg"
            height="34px"
            width="34px"
            viewBox="0 0 300.000000 300.000000"
            preserveAspectRatio="xMidYMid meet"
            @click="toggle"
        >
            <g transform="translate(0.000000,300.000000) scale(0.050000,-0.050000)" fill="#000000" stroke="none">
                <path
                    d="M3128 5805 c-215 -77 -448 -328 -448 -484 0 -53 -18 -52 -99 8 -377 278 -1001 35 -1075 -419 -13 -80 -10 -79 -116 -41 -549 198 -1098 -403 -860 -941 28 -62 50 -115 50 -117 0 -3 -38 -16 -85 -29 -329 -95 -528 -429 -472 -792 30 -194 79 -267 385 -573 l287 -287 10 -400 c19 -726 242 -1145 745 -1404 311 -160 271 -156 1430 -156 1118 0 1114 0 1400 116 404 163 1220 934 1460 1379 368 682 327 1497 -106 2145 -147 221 -1821 1881 -1970 1954 -162 80 -379 97 -536 41z m386 -306 c63 -24 1683 -1629 1815 -1799 432 -557 475 -1322 108 -1949 -63 -108 -187 -245 -535 -592 -705 -704 -662 -689 -2012 -689 -935 0 -964 1 -1101 44 -333 105 -595 362 -721 709 -28 78 -73 554 -54 576 4 5 92 -78 196 -185 238 -242 380 -275 420 -96 19 90 13 98 -650 760 -584 584 -619 624 -648 725 -73 255 109 497 373 497 147 0 191 -28 446 -282 264 -263 334 -300 424 -225 124 102 108 129 -332 575 -416 420 -463 484 -463 632 0 281 281 475 536 369 47 -20 221 -177 475 -430 433 -431 462 -449 571 -362 108 88 75 155 -226 459 -359 362 -413 491 -295 701 179 318 424 280 841 -130 313 -308 358 -333 456 -252 86 72 76 146 -35 274 -313 357 -22 832 411 670z"
                />
            </g>
        </svg>
    </div>
</template>

<script setup>
import { ref } from 'vue';
import { subscribe, dev_run } from '../util';

const isToggled = ref(false);
const isVisible = ref(false);

subscribe('interactionMenu:eye:toggle', (value) => {
    isToggled.value = value;
});
subscribe('interactionMenu:eye:visible', (value) => {
    isVisible.value = value;
});
</script>

<style lang="scss">
#eye {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    display: none;
}

#eyeSvg {
    stroke: rgb(255, 255, 255);
    stroke-width: 25px;
    fill: none;
}

#eyeSvg2 {
    filter: invert(1);
}
</style>
